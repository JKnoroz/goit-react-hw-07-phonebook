{"version":3,"sources":["components/ContactForm/ContactForm.module.css","components/Filter/Filter.module.css","components/ContactList/ContactList.module.css","redux/phonebook.js","redux/actions.js","redux/reducer.js","redux/store.js","components/ContactForm/ContactForm.js","redux/selectors.js","components/Filter/Filter.js","components/ContactList/ContactList.js","components/ContactsContainer/ContactsContainer.js","App.js","index.js"],"names":["module","exports","phonebookApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","endpoints","builder","fetchContacts","query","providesTags","addContact","mutation","contact","url","method","body","invalidatesTags","deleteContact","contactId","useFetchContactsQuery","useAddContactMutation","useDeleteContactMutation","filterContacts","createAction","payload","id","shortid","generate","filter","createReducer","_","action","store","configureStore","reducer","middleware","getDefaultMiddleware","devTools","process","ContactForm","useState","name","setName","number","setNumber","contacts","data","isLoading","handleChange","target","value","onSubmit","e","preventDefault","currentTarget","find","el","alert","className","s","label","type","input","pattern","title","required","onChange","button","disabled","getFilter","select","state","Filter","filterValue","useSelector","dispatch","useDispatch","actions","ContactList","visibleContacts","normalizedFilter","toLowerCase","includes","getVisibleContacts","isDeleting","list","map","deleteButton","onClick","ContactsContainer","isFetching","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8dd1b51e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"ContactForm_label__ChlaT\",\"input\":\"ContactForm_input__3skWG\",\"button\":\"ContactForm_button__3cMTh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Filter_label__1vE1p\",\"input\":\"Filter_input__8ktBs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ContactList_list__A-5HB\",\"deleteButton\":\"ContactList_deleteButton__3FIj3\",\"deleteSpinner\":\"ContactList_deleteSpinner__iHEoU\"};","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\r\n\r\nconst URL = 'https://61d73c4b35f71e0017c2eab8.mockapi.io/api/v1/';\r\n\r\nexport const phonebookApi = createApi({\r\n  reducerPath: 'contacts',\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: URL,\r\n  }),\r\n  tagTypes: ['contacts'],\r\n  endpoints: builder => ({\r\n    fetchContacts: builder.query({\r\n      query: () => `/contacts`,\r\n      providesTags: ['contacts'],\r\n    }),\r\n\r\n    addContact: builder.mutation({\r\n      query: contact => ({\r\n        url: `/contacts`,\r\n        method: 'POST',\r\n        body: contact,\r\n      }),\r\n      invalidatesTags: ['contacts'],\r\n    }),\r\n    deleteContact: builder.mutation({\r\n      query: contactId => ({\r\n        url: `/contacts/${contactId}`,\r\n        method: 'DELETE',\r\n      }),\r\n      invalidatesTags: ['contacts'],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useFetchContactsQuery,\r\n  useAddContactMutation,\r\n  useDeleteContactMutation,\r\n} = phonebookApi;\r\n","import { createAction } from '@reduxjs/toolkit';\r\nimport shortid from 'shortid';\r\n\r\nexport const addContact = createAction('phoneBook/addContact', contact => {\r\n  return {\r\n    payload: {\r\n      ...contact,\r\n      id: shortid.generate(),\r\n    },\r\n  };\r\n});\r\nexport const deleteContact = createAction('phoneBook/deleteContact');\r\nexport const filterContacts = createAction('phoneBook/filter');\r\n","import { createReducer } from '@reduxjs/toolkit';\r\nimport { filterContacts } from './actions';\r\n\r\nexport const filter = createReducer('', {\r\n  [filterContacts]: (_, action) => action.payload,\r\n});\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport { phonebookApi } from './phonebook';\r\nimport { filter } from './reducer';\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    filter,\r\n    [phonebookApi.reducerPath]: phonebookApi.reducer,\r\n  },\r\n\r\n  middleware: getDefaultMiddleware => [\r\n    ...getDefaultMiddleware(),\r\n    phonebookApi.middleware,\r\n  ],\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\n","import { useState } from 'react';\nimport {\n  useAddContactMutation,\n  useFetchContactsQuery,\n} from '../../redux/phonebook';\n\nimport PropTypes from 'prop-types';\nimport s from './ContactForm.module.css';\n\nfunction ContactForm() {\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n  const { data: contacts } = useFetchContactsQuery();\n  const [addContact, { isLoading }] = useAddContactMutation();\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n    name === 'name' ? setName(value) : setNumber(value);\n  };\n\n  function reset() {\n    setName('');\n    setNumber('');\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const contact = {\n      name: e.currentTarget.name.value,\n      number: e.currentTarget.number.value,\n    };\n    if (contacts.find(el => el.name === contact.name)) {\n      alert(`${contact.name} is already in contacts!`);\n    } else {\n      addContact(contact);\n    }\n    reset();\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <label className={s.label}>\n        Name:\n        <input\n          type=\"text\"\n          name=\"name\"\n          className={s.input}\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n          required\n          value={name}\n          onChange={handleChange}\n        ></input>\n      </label>\n      <label className={s.label}>\n        Phone:\n        <input\n          type=\"tel\"\n          name=\"number\"\n          className={s.input}\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n          title=\"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +\"\n          required\n          value={number}\n          onChange={handleChange}\n        ></input>\n      </label>\n      <button type=\"submit\" className={s.button} disabled={isLoading}>\n        ADD CONTACT\n      </button>\n    </form>\n  );\n}\n\nContactForm.propTypes = {\n  onSubmit: PropTypes.func,\n};\n\nexport default ContactForm;\n","import { phonebookApi } from './phonebook';\r\n\r\nexport const getContacts = phonebookApi.endpoints.fetchContacts.select();\r\nexport const getFilter = state => state.filter;\r\n\r\nexport const getVisibleContacts = (state, contacts) => {\r\n  const filter = getFilter(state);\r\n  const normalizedFilter = filter.toLowerCase();\r\n\r\n  return contacts.filter(\r\n    contact =>\r\n      contact.name.toLowerCase().includes(normalizedFilter) ||\r\n      contact.number.includes(normalizedFilter),\r\n  );\r\n};\r\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport * as actions from '../../redux/actions';\nimport { getFilter } from '../../redux/selectors';\nimport s from './Filter.module.css';\n\nfunction Filter() {\n  const filterValue = useSelector(getFilter);\n  const dispatch = useDispatch();\n  const changeFilter = e => dispatch(actions.filterContacts(e.target.value));\n\n  return (\n    <label className={s.label}>\n      Filter{' '}\n      <input\n        type=\"text\"\n        className={s.input}\n        name=\"filter\"\n        value={filterValue}\n        onChange={changeFilter}\n      />\n    </label>\n  );\n}\n\nexport default Filter;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { getVisibleContacts } from '../../redux/selectors';\nimport { useDeleteContactMutation } from '../../redux/phonebook';\n\nimport PropTypes from 'prop-types';\nimport s from './ContactList.module.css';\n\nfunction ContactList({ contacts }) {\n  const visibleContacts = useSelector(state =>\n    getVisibleContacts(state, contacts),\n  );\n\n  const [deleteContact, { isLoading: isDeleting }] = useDeleteContactMutation();\n\n  return (\n    <ul className={s.list}>\n      {visibleContacts.map(({ id, name, number }) => (\n        <li key={id}>\n          {name}: {number}\n          <button\n            className={s.deleteButton}\n            onClick={() => deleteContact(id)}\n            disabled={isDeleting}\n          >\n            Delete\n          </button>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nContactList.propTypes = {\n  contacts: PropTypes.array,\n  onDeleteContact: PropTypes.func,\n};\n\nexport default ContactList;\n","import { useFetchContactsQuery } from '../../redux/phonebook';\r\nimport ContactList from '../ContactList/ContactList';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nexport const ContactsContainer = () => {\r\n  const { data: contacts, isFetching } = useFetchContactsQuery();\r\n\r\n  return (\r\n    <div>\r\n      {contacts && <ContactList contacts={contacts} />}\r\n      {isFetching && <Loader />}\r\n    </div>\r\n  );\r\n};\r\n","import ContactForm from './components/ContactForm/ContactForm';\nimport Filter from './components/Filter/Filter';\n\nimport './App.css';\nimport { ContactsContainer } from './components/ContactsContainer/ContactsContainer';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <div>\n        <h1>Phonebook</h1>\n        <ContactForm />\n        <h2>Contacts</h2>\n        <Filter />\n        <ContactsContainer />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './redux/store';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}